How-to setup (CMSSW 5.3.9 patch 2, pat V08-09-56)

setenv SCRAM_ARCH slc5_amd64_gcc462 / export SCRAM_ARCH=slc5_amd64_gcc462

cmsrel CMSSW_5_3_9_patch2
cd CMSSW_5_3_9_patch2/src/
cmsenv

addpkg DataFormats/PatCandidates   V06-05-06-10
addpkg PhysicsTools/PatAlgos       V08-09-56
addpkg PhysicsTools/PatUtils       V03-09-28
addpkg DataFormats/CaloRecHit      V02-05-11
addpkg DataFormats/StdDictionaries V00-02-14
addpkg FWCore/GuiBrowsers          V00-00-70
addpkg RecoMET/METProducers        V03-03-12-02

addpkg RecoParticleFlow/PFProducer V15-02-06

addpkg RecoTauTag/RecoTau V01-04-23
addpkg RecoTauTag/Configuration V01-04-10
addpkg CondFormats/EgammaObjects V00-04-00

cvs update -r 1.19.8.1 PhysicsTools/PatAlgos/python/tools/helpers.py

# Photon ID
cvs co -r V00-00-30 -d EGamma/EGammaAnalysisTools UserCode/EGamma/EGammaAnalysisTools

# Quark / Gluon tagging
cvs co -r v1-2-3 -d QuarkGluonTagger/EightTeV UserCode/tomc/QuarkGluonTagger/EightTeV

# Filters

//cvs co -r V00-00-13 RecoMET/METFilters
//cvs co -r V00-00-08 RecoMET/METAnalyzers
//cvs co -r V01-00-11-01 DPGAnalysis/Skims
//cvs co -r V00-11-17 DPGAnalysis/SiStripTools
//cvs co -r V00-00-08 DataFormats/TrackerCommon
//cvs co -r V01-09-05 RecoLocalTracker/SubCollectionProducers

cvs co -r V00-00-13 RecoMET/METFilters
cvs co -r V00-00-08 RecoMET/METAnalyzers
cvs co -r 1.2 RecoMET/METFilters/python/metFilters_cff.py

cd JetMETCorrections
git clone git://madalynn.eu/GammaJetFilter.git

cd ..
scram b -j 9

Step 2:
-------

TODO

Step 3:
-------

After scram b, simply redo cmsenv to rebuild cache. Then, use
# gammaJetFilter -h

To have an overview of possible commands.

For example, one can use:

# gammaJetFilter -i PhotonJet_2ndLevel_Photon_Run2011.root -d Photon_Run2011 --type pf --algo ak5 --mc-comp

It'll produce a file named "PhotonJet_Photon_Run2011_AK5PFlow.root", where jets are PFAK5, and where a cut on Photon pt has been applied for MC/DATA comparison

One can also use:

# gammaJetFilter --input-list mc_G.list -d G --type pf --algo ak5 --mc

It'll produce a file named "PhotonJet_G_AK5PFlow.root". Don't forget the "--mc" flag when you're running on MC! mc_G.list must be a text file, containing one file to process per line.
